/* Superscript and Subscript Typography Enhancement Styles */
/* SmartScript (ss-) prefixed classes for automatic typography */

/* ============================================
   CSS Variables (Custom Properties)
   Allows runtime and CSS-based customization
   ============================================ */
:root {
  /* Core superscript variables */
  --ss-sup-font-size: 0.75em;
  --ss-sup-vertical-align: super;
  --ss-sup-line-height: 0;
  --ss-sup-top: 0.08em;
  --ss-sup-margin-left: 0.05em;
  --ss-sup-margin-right: 0.1em;
  --ss-sup-letter-spacing: 0.025em;
  
  /* Core subscript variables */
  --ss-sub-font-size: 0.75em;
  --ss-sub-vertical-align: sub;
  --ss-sub-line-height: 0;
  --ss-sub-margin-left: 0.05em;
  --ss-sub-margin-right: 0.1em;
  --ss-sub-letter-spacing: 0.025em;
  
  /* Heading adjustments */
  --ss-heading-font-size: 0.65em;
  
  /* Media query adjustments */
  --ss-print-font-size: 0.7em;
}

/* ============================================
   Core Superscript Styling
   Handles both SUP (semantic) and SPAN (positioned) elements
   ============================================ */
sup.ss-sup {
  /* Size reduction */
  font-size: var(--ss-sup-font-size);
  
  /* Use browser's native superscript positioning */
  vertical-align: super;
  
  /* Prevent line-height disruption */
  line-height: 0;
  
  /* Note: position:relative doesn't work on SUP elements */
  
  /* Spacing */
  margin-left: var(--ss-sup-margin-left);
  margin-right: var(--ss-sup-margin-right);
  
  /* Inherit parent styles */
  font-weight: inherit;
  letter-spacing: var(--ss-sup-letter-spacing);
}

/* For elements that need positioning control (using SPAN) */
span.ss-sup {
  /* Size reduction */
  font-size: var(--ss-sup-font-size);
  
  /* Manual positioning for precise control */
  position: relative;
  top: -0.3em; /* Negative value to raise it up */
  vertical-align: baseline;
  
  /* Prevent line-height disruption */
  line-height: 0;
  
  /* Spacing */
  margin-left: var(--ss-sup-margin-left);
  margin-right: var(--ss-sup-margin-right);
  
  /* Inherit parent styles */
  font-weight: inherit;
  letter-spacing: var(--ss-sup-letter-spacing);
}

/* ============================================
   Core Subscript Styling
   Using semantic SUB elements
   ============================================ */
sub.ss-sub {
  /* Size reduction */
  font-size: var(--ss-sub-font-size);
  
  /* Use browser's native subscript positioning */
  vertical-align: sub;
  
  /* Prevent line-height disruption */
  line-height: 0;
  
  /* Spacing */
  margin-left: var(--ss-sub-margin-left);
  margin-right: var(--ss-sub-margin-right);
  
  /* Inherit parent styles */
  font-weight: inherit;
  letter-spacing: var(--ss-sub-letter-spacing);
}

/* ============================================
   Headings: Slightly smaller for visual balance
   ============================================ */
:is(h1, h2, h3, h4, h5, h6) :is(sup.ss-sup, span.ss-sup),
:is(h1, h2, h3, h4, h5, h6) sub.ss-sub {
  font-size: var(--ss-heading-font-size);
}

/* ============================================
   Special Cases
   ============================================ */

/* Remove spacing between consecutive super/subscripts */
:is(sup.ss-sup, span.ss-sup, sub.ss-sub) + :is(sup.ss-sup, span.ss-sup, sub.ss-sub) {
  margin-left: 0;
}

/* Specific symbol classes for positioning control (TM and R use SPAN) */
span.ss-tm {
  /* Override the default top position for trademark */
  top: var(--ss-tm-top, -0.4em);
}

span.ss-reg {
  /* Override the default top position for registered */
  top: var(--ss-reg-top, -0.4em);
}

/* ============================================
   Media Queries & Accessibility
   ============================================ */

/* Print optimization */
@media print {
  :is(sup.ss-sup, span.ss-sup), 
  sub.ss-sub {
    font-size: var(--ss-print-font-size);
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :is(sup.ss-sup, span.ss-sup), 
  sub.ss-sub {
    font-weight: bold;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  :is(sup.ss-sup, span.ss-sup), 
  sub.ss-sub {
    transition: none;
  }
}